<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Список собеседований</title>
</head>
<body>
    <header>
        <h2>Список собеседований</h2>

        <table>
            <tr>
                <td><a href="/menu">Меню</a></td>
                <td>/</td>
                <td><a href="/interview">Собеседования</a></td>
                <td>/</td>
                <td>Список собеседований</td>
            </tr>
        </table>
    </header>

    <main>
        <!-- выводим сообщение, если есть -->
        {% if message is not none or message != '' %}
            <div style="color: red">{{ message }}</div>
        {% endif %}
        <h3>Текущие собеседования</h3>
        <!--suppress HtmlDeprecatedAttribute -->
        {% for interview in interviews %}
            <table border="1">
                <tr><th>
                    <h3 title="{{ interview.iv_id }}">{{ interview.position }}</h3>
                </th></tr>
                <tr><td>
                <table>
                    <tr>
                        <th>Дата</th>
                        <th>Собеседующий</th>
                        <th>Ставка</th>
                    </tr>
                    <tr>
                        <td>{{ interview.iv_date }}</td>
                        <td>{{ interview.employee }}</td>
                        <td>{{ interview.salary }}</td>
                    </tr>
                </table>
                <h4>Назначенные кандидаты</h4>
                <table border="1">
                    <tr>
                        <th>Имя</th>
                        <th>Адрес</th>
                        <th>Пол</th>
                        <th>Возраст</th>
                    </tr>
                    {% for candidate in interview.candidates %}
                        <tr title="{{ candidate.c_id }}">
                            <td>{{ candidate.name }}</td>
                            <td>{{ candidate.address }}</td>
                            <td>{{ candidate.gender }}</td>
                            <td>{{ candidate.age }}</td>
                        </tr>
                    {% endfor %}
                </table>
            </td></tr></table>
            <br>
        {% endfor %}
{#        <table border="1">#}
{#            <tr>#}
{#                <th>ID</th>#}
{#                <th>Дата</th>#}
{#                <th>Вакансия</th>#}
{#                <th>Зарплата</th>#}
{#                <th>Собеседующий</th>#}
{#                <th>Кандидат</th>#}
{#                <th>Результат</th>#}
{#                <th></th>#}
{#            </tr>#}
{#            {% for interview in interviews %}#}
{#                <tr>#}
{#                    <td>{{ interview.id }}</td>#}
{#                    <td>{{ interview.date }}</td>#}
{#                    <td>{{ interview.vacancy }}</td>#}
{#                    <td>{{ interview.salary }}</td>#}
{#                    <td>{{ interview.employee }}</td>#}
{#                    <td>{{ interview.candidate }}</td>#}
{#                    {% if interview.result == 'Yes' %}#}
{#                        <td style="color: limegreen">{{ interview.result }}</td>#}
{#                    {% elif interview.result == 'No' %}#}
{#                        <td style="color: indianred">{{ interview.result }}</td>#}
{#                    {% else %}#}
{#                        <td style="color: gray" title="Не проводилось">N/A</td>#}
{#                    {% endif %}#}
{#                    <td>#}
{#                        <input type="hidden" name="interview_id" value="{{ interview.id }}">#}
{#                        <form action="/interview/delete" method="POST">#}
{#                            <button type="submit">-</button>#}
{#                        </form>#}
{#                    </td>#}
{#                </tr>#}
{#            {% endfor %}#}
{#        </table>#}
    </main>
</body>
</html>